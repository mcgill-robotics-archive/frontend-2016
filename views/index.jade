doctype html
html
  head
    link(rel = 'stylesheet', media = 'screen',
      href = '/stylesheets/screen.css')
    link(rel = 'import', href = '/lib/polymer/polymer.html')

    script(type = 'text/javascript',
      src = '/lib/eventemitter2/lib/eventemitter2.js')
    script(type = 'text/javascript', src = '/lib/roslib/build/roslib.min.js')

    script(type="text/javascript", src=
      "http://cdn.robotwebtools.org/mjpegcanvasjs/current/mjpegcanvas.min.js")

    script(type = 'text/javascript', src = '/scripts/interface.js')

    script(type = 'text/javascript').
      var frontendInterface = new MRFrontendInterface({
        'host': 'localhost',
        'port': 8080,
        'containerId': 'interfaceContainer',
        'topBarId': 'topBar'
      });

      /**
       * Setup all visualization elements when the page is loaded.
       */
      function initializeVideoComponents(topic) {
        // Create the main viewer.
        var viewer = new MJPEGCANVAS.Viewer({
          divID : topic,
          host : 'localhost',
          port : '8008',
          width : 640,
          height : 480,
          topic : topic
        });
      }

      window.onload = function () {
        frontendInterface.initialize();
        initializeVideoComponents('/camera_front_left/image_rect_color');
      }

    link(rel = 'import', href = '/lib/iron-icons/iron-icons.html')
    link(rel = 'import', href = '/lib/paper-button/paper-button.html')
    link(rel = 'import', href = '/lib/paper-fab/paper-fab.html')
    link(rel = 'import', href = '/lib/paper-card/paper-card.html')
    link(rel = 'import', href = '/lib/paper-tabs/paper-tabs.html')
    link(rel = 'import', href = '/lib/paper-progress/paper-progress.html')
    link(rel = 'import', href = '/elements/base-widget/base-widget.html')
    link(rel = 'import',
      href = '/elements/components/text-component/text-component.html')
    link(rel = 'import',
      href = '/elements/components/bar-component/bar-component.html')

  body
    paper-tabs#topBar
      paper-tab Main Page
      paper-tab Second Page
      paper-tab Third Page
    #interfaceContainer
      block layout

    script(type = 'text/javascript'
      src = '/lib/webcomponentsjs/webcomponents-lite.min.js')

